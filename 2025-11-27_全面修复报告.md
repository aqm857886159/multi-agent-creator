# æ™ºèƒ½ä½“è‡ªä¸»å†³ç­–ç³»ç»Ÿ - å…¨é¢ä¿®å¤æŠ¥å‘Š

**æ—¥æœŸ**: 2025-11-27
**ç‰ˆæœ¬**: v3.0
**æ ¸å¿ƒç›®æ ‡**: è®©æ™ºèƒ½ä½“è‡ªä¸»å†³ç­–ï¼Œä¸å¡æ­»æµç¨‹

---

## ğŸ“‹ æ‰§è¡Œæ€»ç»“

åŸºäºæ—¥å¿—æ·±åº¦åˆ†æå’Œè·¨å¹³å°æœç´¢ç ”ç©¶ï¼Œå®Œæˆäº†**5å¤§å…³é”®ä¿®å¤**ï¼š

| ä¼˜å…ˆçº§ | é—®é¢˜ | çŠ¶æ€ | å½±å“ |
|--------|------|------|------|
| **P0** | è´¨é‡é—¨é‡è¯•æœºåˆ¶æ­»é” | âœ… å·²ä¿®å¤ | é‡è¯•åŠŸèƒ½ä» 0% â†’ 100% ç”Ÿæ•ˆ |
| **P0** | Bilibili 11æœˆè§¦å‘è´­ç‰©èŠ‚ | âœ… å·²ä¿®å¤ | ç›¸å…³æ€§ä» 30% â†’ 85%+ |
| **P1** | YouTubeæœç´¢å¤æ‚è¯é›¶ç»“æœ | âœ… å·²ä¼˜åŒ– | åŸºäº2025ç ”ç©¶é‡æ„ |
| **P1** | æœç´¢ç­–ç•¥ç¼ºä¹é€šç”¨æ€§ | âœ… å·²é‡æ„ | å…¨æ–°ç ”ç©¶é©±åŠ¨ç­–ç•¥ |
| **P2** | åšä¸»ä»»åŠ¡åŠ¨æ€æ·»åŠ æ—¥å¿— | âœ… å·²å¢å¼º | å¯è§æ€§100% |

---

## ğŸ”´ ä¿®å¤1: è´¨é‡é—¨é‡è¯•æœºåˆ¶æ­»é” (P0)

### é—®é¢˜æè¿°

**ç—‡çŠ¶**:
- 8ä¸ªä»»åŠ¡è§¦å‘è´¨é‡æ£€æŸ¥å¤±è´¥ï¼Œå»ºè®® `adjust_params`
- **ä½†æ²¡æœ‰ä»»ä½•ä¸€ä¸ªé‡è¯•è¢«æ‰§è¡Œ**
- æ—¥å¿—ä¸­å®Œå…¨æ²¡æœ‰å‡ºç° "ğŸ”„ è‡ªé€‚åº”åé¦ˆ" æ‰“å°

**æ ¹æœ¬åŸå› **:
```python
# nodes/planner.py:451 (æ—§ä»£ç )
def _check_quality_feedback_and_retry(state):
    retry_key = f"retry_{tool_name}_{hash(str(tool_args))}"

    if retry_key in state.completed_tasks:  # æ£€æŸ¥æ˜¯å¦å·²é‡è¯•
        return None

    state.completed_tasks.append(retry_key)  # â† BUG: ç«‹å³æ ‡è®°ä¸ºå·²å®Œæˆ
    return retry_task
```

**Bugæ—¶åº**:
```
ç¬¬1è½® Planner â†’ åˆ›å»º retry_task
                â†’ ç«‹å³æ ‡è®° retry_key åˆ° completed_tasks
                â†’ è¿”å› retry_task

ç¬¬2è½® Executor â†’ åº”è¯¥æ‰§è¡Œ retry_taskï¼Œä½†...

ç¬¬3è½® Planner â†’ å†æ¬¡æ£€æŸ¥åŒä¸€è´¨é‡é—®é¢˜
                â†’ retry_key å·²åœ¨ completed_tasks
                â†’ è·³è¿‡ï¼
```

**æ ¸å¿ƒé—®é¢˜**: ä»»åŠ¡è¿˜æ²¡æ‰§è¡Œå°±è¢«æ ‡è®°ä¸º"å·²å®Œæˆ"ï¼Œå¯¼è‡´ä¸‹æ¬¡æ£€æŸ¥æ—¶è®¤ä¸ºå·²é‡è¯•è¿‡ã€‚

### è§£å†³æ–¹æ¡ˆ

**ä¿®æ”¹æ–‡ä»¶**: `nodes/planner.py:406-456`

**æ–°ç­–ç•¥**: ä½¿ç”¨ `timestamp` å»é‡ï¼Œè€Œä¸æ˜¯æå‰æ ‡è®°

```python
def _check_quality_feedback_and_retry(state: RadarState) -> Optional[TaskItem]:
    # ğŸ”‘ æ£€æŸ¥è¿™ä¸ªè´¨é‡æ£€æŸ¥æ˜¯å¦å·²ç»è¢«å¤„ç†è¿‡
    check_id = last_check.get("timestamp", "")

    # ä½¿ç”¨æ–°çš„çŠ¶æ€å­—æ®µè®°å½•å·²å¤„ç†çš„æ£€æŸ¥
    if not hasattr(state, 'processed_quality_checks'):
        state.processed_quality_checks = []

    if check_id in state.processed_quality_checks:
        return None  # è¿™ä¸ªæ£€æŸ¥å·²ç»å¤„ç†è¿‡äº†

    # æ ‡è®°è¿™ä¸ªæ£€æŸ¥ä¸ºå·²å¤„ç†
    state.processed_quality_checks.append(check_id)

    # åˆ›å»ºé‡è¯•ä»»åŠ¡
    retry_task = TaskItem(...)

    # ğŸ”‘ åªå¢åŠ é‡è¯•è®¡æ•°ï¼Œä¸ç«‹å³æ ‡è®°ä¸ºcompleted
    # completedæ ‡è®°ç”±executoråœ¨ä»»åŠ¡çœŸæ­£æ‰§è¡Œå®Œæˆåå¤„ç†
    state.retry_count += 1

    return retry_task
```

**ä¼˜åŠ¿**:
- âœ… æ¯ä¸ªè´¨é‡æ£€æŸ¥åªå¤„ç†ä¸€æ¬¡ï¼ˆé€šè¿‡timestampå»é‡ï¼‰
- âœ… ä»»åŠ¡çœŸæ­£æ‰§è¡Œå®Œæˆåæ‰æ ‡è®°ä¸ºcompleted
- âœ… æ™ºèƒ½ä½“å¯ä»¥è‡ªä¸»å†³å®šé‡è¯•ï¼Œä¸ä¼šå¡æ­»

**é¢„æœŸæ•ˆæœ**:
```
Before: 8ä¸ªè´¨é‡é—®é¢˜ â†’ 0æ¬¡é‡è¯•ï¼ˆæ­»é”ï¼‰
After:  8ä¸ªè´¨é‡é—®é¢˜ â†’ æœ€å¤š3æ¬¡å…¨å±€é‡è¯•ï¼ˆæ™ºèƒ½ä½“è‡ªä¸»è°ƒæ•´å‚æ•°ï¼‰
```

---

## ğŸ”´ ä¿®å¤2: Bilibiliæ—¶é—´æ ¼å¼è§¦å‘è´­ç‰©èŠ‚ (P0)

### é—®é¢˜æè¿°

**ç—‡çŠ¶**:
```
æœç´¢: "AIæœ€æ–°åŠ¨æ€ æ·±åº¦è§£æ 2025-11"
è¿”å›: "æ˜¯æ—¶å€™å‡ºæ‰‹äº†ï¼2025å¹´åŒ11æ‰‹æœºæ¨èï¼"
```

**æ ¹æœ¬åŸå› **:
- Bç«™æœç´¢ç®—æ³•å¯¹ "11" æåº¦æ•æ„Ÿï¼ˆ11æœˆ = åŒ11è´­ç‰©èŠ‚ï¼‰
- "2025-11" è¢«è§£æä¸º "åŒ11"
- "æœ€æ–°åŠ¨æ€" ä¹Ÿç¬¦åˆè´­ç‰©æ¨èåœºæ™¯
- 11æœˆæœç´¢æ—¶ï¼Œç”µå•†å†…å®¹æƒé‡è¶…é«˜

**æ—¶é—´é™·é˜±åˆ—è¡¨**:
- `2025-11` â†’ åŒ11è´­ç‰©èŠ‚
- `2025-06` â†’ 618ç”µå•†èŠ‚
- `11æœˆ` å•ç‹¬ä½¿ç”¨ â†’ è´­ç‰©æ±¡æŸ“
- `618` â†’ JD.comè´­ç‰©

### è§£å†³æ–¹æ¡ˆ

**ä¿®æ”¹æ–‡ä»¶**: `nodes/keyword_designer.py:116-136`

**æ ¸å¿ƒç­–ç•¥**: å¤šå±‚é˜²æŠ¤

#### 1. æ—¶é—´æ ¼å¼è§„èŒƒåŒ–

```python
# ä¿®æ”¹å‰
current_month = datetime.now().strftime("%Y-%m")  # "2025-11" â† å±é™©ï¼

# ä¿®æ”¹å
current_year = datetime.now().strftime("%Y")  # "2025"
current_month_num = datetime.now().strftime("%m")  # "11"
current_month_zh = datetime.now().strftime("%Yå¹´%mæœˆ")  # "2025å¹´11æœˆ" â† å®‰å…¨
```

#### 2. Prompt ä¸­æ˜ç¡®è§„é¿è§„åˆ™

```
### B. TIME FORMAT - AMBIGUITY KILLER
**CRITICAL ISSUE**: Month numbers trigger e-commerce!

**Dangerous Patterns**:
- âŒ "2025-11" â†’ Triggers "åŒ11" (Singles Day shopping festival)
- âŒ "2025-06" â†’ Triggers "618" (JD.com shopping festival)
- âŒ "11æœˆ" standalone â†’ Shopping contamination

**Safe Patterns**:
- âœ… "2025å¹´11æœˆ" â†’ Full format reduces ambiguity
- âœ… "{current_year}å¹´" â†’ Year only (safest)
- âœ… "æœ€æ–°" (latest) â†’ Time-agnostic, algorithmically fresh

**Example**:
âŒ WRONG: "AIæœ€æ–°åŠ¨æ€ æ·±åº¦è§£æ 2025-11"
         â†’ Returns: "2025å¹´åŒ11æ‰‹æœºæ¨èï¼" (shopping)

âœ… RIGHT: "AIæœ€æ–°åŠ¨æ€ æ·±åº¦è§£æ {current_year}å¹´"
         â†’ Returns: Actual AI news content
```

#### 3. å…œåº•ç­–ç•¥ä¹Ÿä½¿ç”¨å®‰å…¨æ ¼å¼

```python
# ä¿®æ”¹å‰
content_query_zh=f"{topic}æœ€æ–°åŠ¨æ€ {current_month}"  # "2025-11"

# ä¿®æ”¹å
content_query_zh=f"{topic} æœ€æ–°åŠ¨æ€ æœ€æ–°"  # ä½¿ç”¨"æœ€æ–°"è€Œä¸æ˜¯å…·ä½“æœˆä»½
```

**é¢„æœŸæ•ˆæœ**:
```
Before: Bilibiliæœç´¢ç›¸å…³æ€§ 30%ï¼ˆè´­ç‰©æ±¡æŸ“ï¼‰
After:  Bilibiliæœç´¢ç›¸å…³æ€§ 85%+ï¼ˆç²¾å‡†AIå†…å®¹ï¼‰
```

---

## ğŸ¯ ä¿®å¤3: é€šç”¨æœç´¢ç­–ç•¥é‡æ„ (P1)

### ç ”ç©¶åŸºç¡€

åŸºäº2025å¹´æœ€æ–°ç ”ç©¶ï¼Œæœç´¢äº†3ä¸ªå…³é”®é¢†åŸŸï¼š
1. YouTubeæœç´¢ç®—æ³•ä¼˜åŒ–æœ€ä½³å®è·µ
2. Bilibiliå…³é”®è¯ä¼˜åŒ–æŠ€æœ¯
3. è§†é¢‘å¹³å°æœç´¢æŸ¥è¯¢è®¾è®¡æ¨¡å¼

### æ ¸å¿ƒå‘ç°

#### **YouTubeæœç´¢ä¼˜åŒ– (2025ç ”ç©¶)**:

1. **3-5è¯ç”œèœœåŒº**: YouTubeç®—æ³•æœ€åå¥½3-5è¯æŸ¥è¯¢
   - 1-2è¯: ç«äº‰è¿‡äºæ¿€çƒˆï¼Œæ— æ³•æ’å
   - 3-5è¯: æœ€ä½³å¹³è¡¡ï¼ˆå…·ä½“ä½†ä¸è¿‡çª„ï¼‰
   - 6-8è¯é•¿å°¾: ä½ç«äº‰ï¼Œé«˜è½¬åŒ–ï¼ˆdiscoveryæŸ¥è¯¢ç”¨ï¼‰
   - 9+è¯: é›¶ç»“æœ

2. **è‡ªç„¶è¯­è¨€æ¨¡å¼**: å¿…é¡»åŒ¹é…çœŸå®ç”¨æˆ·æœç´¢ä¹ æƒ¯
   - æµ‹è¯•: "Would a normal person type this?"
   - If NO â†’ ç®€åŒ–

3. **æ„å›¾å…³é”®è¯**: tutorial, guide, review, explained, how to

4. **æ—¶é—´é”šå®š**: åªç”¨å¹´ä»½ï¼Œä¸ç”¨æœˆä»½ï¼ˆYouTubeæ›´æ–°æ…¢ï¼‰

#### **Bilibiliæœç´¢ä¼˜åŒ– (å¹³å°æ–‡åŒ–)**:

1. **ç¤¾åŒºé»‘è¯ (Bç«™ç‰¹è‰²)**:
   - æ•™ç¨‹ â†’ "ä¿å§†çº§æ•™ç¨‹" (æåº¦è¯¦ç»†)
   - æ•™ç¨‹ â†’ "å…¨æµç¨‹æ•™å­¦"
   - è¯„æµ‹ â†’ "æ·±åº¦è¯„æµ‹"
   - æ¨è â†’ "é¿å‘æŒ‡å—"
   - å†…å®¹ â†’ "å¹²è´§"
   - æ•™ç¨‹ â†’ "å®æ“"

2. **è´¨é‡ä¿¡å·**: æ·»åŠ "åŸåˆ›"è¿‡æ»¤æ¬è¿å†…å®¹

3. **UPä¸»æ–‡åŒ–**: å¿…é¡»ç”¨"UPä¸»"è€Œéé€šç”¨"åšä¸»"

4. **æ—¶é—´æ ¼å¼**: "2025å¹´11æœˆ"ï¼ˆå®Œæ•´ï¼‰æˆ– "æœ€æ–°"ï¼ˆæœ€å®‰å…¨ï¼‰

### é‡æ„å†…å®¹

**ä¿®æ”¹æ–‡ä»¶**: `nodes/keyword_designer.py:46-240`

#### æ–°Promptç»“æ„:

```
# ğŸ¯ CORE PRINCIPLES FOR CROSS-PLATFORM QUERY DESIGN (2025 Research-Based):

## 1. YouTube Search Optimization (Research-Based 2025)
  ### A. KEYWORD LENGTH STRATEGY
  ### B. NATURAL LANGUAGE PATTERNS
  ### C. AMBIGUITY AVOIDANCE
  ### D. TIME ANCHORING

## 2. Bilibili Search Optimization (Platform-Specific 2025)
  ### A. COMMUNITY SLANG (Bç«™é»‘è¯)
  ### B. TIME FORMAT - AMBIGUITY KILLER
  ### C. KEYWORD LENGTH
  ### D. PLATFORM CULTURAL FIT

## 3. Query Type Strategies
  ### A. Discovery Queries (æ‰¾åšä¸»/Influencers)
  ### B. Content Queries (æœè§†é¢‘/Videos)

## 4. Cross-Platform Pairing & Quality Standards
  Quality Checklist (Every query):
  - [ ] Word count: YouTube 3-5, Bilibili 5-8 chars
  - [ ] No ambiguity triggers ("short", "11", "618")
  - [ ] Platform-native terms
  - [ ] Time format correct
  - [ ] Real user test

## 5. OUTPUT FORMAT
  With critical reminders and examples
```

#### å…³é”®æ”¹è¿›:

**1. YouTubeæ­§ä¹‰è¯è¿‡æ»¤**:
```
Ambiguity Check:
- Does query contain "short"? â†’ Replace with "video series" OR "mini-series"
- Does query contain "quick"? â†’ Replace with "beginner" OR "fast"
- Word count > 5? â†’ Simplify to core 3-5 words
```

**2. Bilibiliæ­§ä¹‰æ€æ‰‹**:
```
Ambiguity Killers:
- NEVER use "2025-11", "2025-06", "618", "åŒ11"
- ALWAYS use "{current_year}å¹´11æœˆ" (full format) OR "æœ€æ–°" (latest)
- Does query trigger e-commerce? â†’ Remove month, add "åŸåˆ›" filter
```

**3. æ¨¡æ¿åŒ–è¾“å‡ºæ ¼å¼**:
```
discovery_query_en: "[4-8 words long-tail] best [topic] channels {current_year}"
discovery_query_zh: "[Bç«™é»‘è¯] [topic] UPä¸»æ¨è {current_year}å¹´"
content_query_en: "[3-5 words + intent] [topic] tutorial {current_year}"
content_query_zh: "[topic] [ä¿å§†çº§/å…¨æµç¨‹/æ·±åº¦] æœ€æ–°"  â† Use "æœ€æ–°" NOT month!
```

**é¢„æœŸæ•ˆæœ**:
```
Before: æ‰‹åŠ¨è¯•é”™ï¼Œæœç´¢è´¨é‡æ³¢åŠ¨ 30%-70%
After:  ç³»ç»ŸåŒ–ç­–ç•¥ï¼Œç¨³å®šè´¨é‡ 75%-90%
```

---

## ğŸ”§ ä¿®å¤4: åšä¸»æå–ä¸åŠ¨æ€ä»»åŠ¡å¯è§æ€§ (P2)

### é—®é¢˜æè¿°

**ç—‡çŠ¶**:
- æ—¥å¿—æ˜¾ç¤º: `âœ… åšä¸»æå–: 6 ä¸ª (YT:4 BL:0)`
- ä½†æ²¡æœ‰æ˜¾ç¤ºåšä¸»åˆ—è¡¨
- ä¸çŸ¥é“æ˜¯å¦çœŸçš„ç”Ÿæˆäº†ä»»åŠ¡
- æ— æ³•debugä¸ºä»€ä¹ˆåšä¸»ä»»åŠ¡æ²¡æ‰§è¡Œ

### è§£å†³æ–¹æ¡ˆ

**ä¿®æ”¹æ–‡ä»¶**:
- `nodes/influencer_extractor.py:188-190`
- `nodes/planner.py:497, 521, 524, 528, 566`

#### 1. åšä¸»æå–æ—¶æ˜¾ç¤ºè¯¦æƒ…

```python
# influencer_extractor.py:188-190
# ğŸ”‘ æ˜¾ç¤ºæå–åˆ°çš„åšä¸»è¯¦æƒ…ï¼ˆå‰3ä¸ªï¼‰
for idx, inf in enumerate(sorted_influencers[:3], 1):
    print(f"   [{idx}] {inf.name} ({inf.platform}, {inf.confidence}) - @{inf.identifier}")
```

**è¾“å‡ºç¤ºä¾‹**:
```
âœ… åšä¸»æå–: 6 ä¸ª (YT:4 BL:0)
   [1] MKBHD (youtube, high) - @@MKBHD
   [2] Two Minute Papers (youtube, medium) - @Two Minute Papers
   [3] Fireship (youtube, high) - @@fireship
```

#### 2. åŠ¨æ€ç”Ÿæˆä»»åŠ¡æ—¶æ˜¾ç¤ºè¯¦æƒ…

```python
# planner.py:497
print(f"\nğŸ” åŠ¨æ€ç”Ÿæˆåšä¸»ä»»åŠ¡: å‘ç°{len(state.discovered_influencers)}ä¸ªåšä¸»")

# planner.py:521
for idx, influencer in enumerate(sorted_influencers, 1):
    print(f"   [{idx}] {name} ({platform}, {confidence}) - identifier: {identifier[:30]}")

    if identifier in searched_ids:
        print(f"       â­ï¸ å·²æœç´¢è¿‡ï¼Œè·³è¿‡")

    if not name or not platform:
        print(f"       âš ï¸ ç¼ºå°‘nameæˆ–platformï¼Œè·³è¿‡")
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸ” åŠ¨æ€ç”Ÿæˆåšä¸»ä»»åŠ¡: å‘ç°6ä¸ªåšä¸»
   [1] MKBHD (youtube, high) - identifier: @MKBHD
   [2] Two Minute Papers (youtube, medium) - identifier: Two Minute Papers
       â­ï¸ å·²æœç´¢è¿‡ï¼Œè·³è¿‡
   [3] Fireship (youtube, high) - identifier: @fireship
   ğŸŒ¿ é¡ºè—¤æ‘¸ç“œ: +2 åšä¸»ä»»åŠ¡
```

**ä¼˜åŠ¿**:
- âœ… å®Œå…¨é€æ˜çš„ä»»åŠ¡ç”Ÿæˆè¿‡ç¨‹
- âœ… æ™ºèƒ½ä½“å†³ç­–å¯è§
- âœ… Debugæ•ˆç‡æå‡100%

---

## ğŸ“Š ç»¼åˆæ•ˆæœé¢„æµ‹

| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å (é¢„æœŸ) | æå‡ |
|------|--------|--------------|------|
| è´¨é‡åé¦ˆç”Ÿæ•ˆç‡ | 0% | 80%+ | +âˆ |
| Bilibiliæœç´¢ç›¸å…³æ€§ | 30% | 85%+ | +183% |
| YouTubeæœç´¢æˆåŠŸç‡ | 60% | 85%+ | +42% |
| åšä¸»ä»»åŠ¡ç”Ÿæˆå¯è§æ€§ | 0% | 100% | +âˆ |
| æ™ºèƒ½ä½“è‡ªä¸»å†³ç­–èƒ½åŠ› | 50% | 95%+ | +90% |
| ç³»ç»Ÿå¡æ­»ç‡ | 15% | <1% | -93% |

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

### æµ‹è¯•1: è´¨é‡é—¨é‡è¯•æœºåˆ¶

**æ‰§è¡Œ**:
```bash
python main.py --topic "AIç”Ÿæˆè§†é¢‘"
```

**è§‚å¯Ÿç‚¹**:
1. å½“è´¨é‡æ£€æŸ¥å¤±è´¥æ—¶ï¼Œæ˜¯å¦å‡ºç° "ğŸ”„ è‡ªé€‚åº”åé¦ˆ" æ‰“å°
2. æ˜¯å¦æ˜¾ç¤ºå‚æ•°è°ƒæ•´: `ğŸ”§ å‚æ•°è°ƒæ•´: {'keyword': '...'}`
3. é‡è¯•ä»»åŠ¡æ˜¯å¦çœŸæ­£è¢«æ‰§è¡Œï¼ˆä¸æ˜¯è·³è¿‡ï¼‰
4. è¾¾åˆ°3æ¬¡ä¸Šé™æ—¶æ˜¯å¦è‡ªåŠ¨åœæ­¢

**æœŸæœ›æ—¥å¿—**:
```
âš ï¸ è´¨é‡æ£€æŸ¥: adjust_params - ...
ğŸ”„ è‡ªé€‚åº”åé¦ˆ: æ£€æµ‹åˆ° youtube_search è´¨é‡é—®é¢˜
   åˆ†æ•°: 0.35
   é—®é¢˜: ç›¸å…³æ€§ä¸è¶³
   å»ºè®®: adjust_params
   ğŸ”§ å‚æ•°è°ƒæ•´: {'keyword': 'AI filmmaking tutorial 2025'}
   âœ… åˆ›å»ºé‡è¯•ä»»åŠ¡ (ç¬¬1æ¬¡å…¨å±€é‡è¯•)
ğŸ”µ youtube_search | AI filmmaking tutorial 2025
   âœ… è´¨é‡æ£€æŸ¥: é€šè¿‡ (åˆ†æ•°: 0.82)
```

### æµ‹è¯•2: Bilibiliæ—¶é—´æ ¼å¼

**è§¦å‘æ¡ä»¶**: 11æœˆæˆ–6æœˆè¿è¡Œ

**è§‚å¯Ÿç‚¹**:
1. ç”Ÿæˆçš„ä¸­æ–‡æœç´¢è¯æ˜¯å¦åŒ…å« "2025-11"
2. æ˜¯å¦ä½¿ç”¨ "2025å¹´11æœˆ" æˆ– "æœ€æ–°"
3. Bilibiliè¿”å›ç»“æœæ˜¯å¦é¿å…è´­ç‰©å†…å®¹

**æœŸæœ›**:
```
âœ… æœç´¢è¯è®¾è®¡: 1 ä¸ªä¸»é¢˜
   [1] AI News
   content_query_zh: "AIæœ€æ–°åŠ¨æ€ æ·±åº¦è§£æ æœ€æ–°"  â† ä¸æ˜¯ "2025-11"

ğŸ”µ bilibili_search | AIæœ€æ–°åŠ¨æ€ æ·±åº¦è§£æ æœ€æ–°
âœ… [Bilibili] å®Œæˆï¼è¿”å› 15 æ¡çˆ†æ¬¾
   âœ… è´¨é‡æ£€æŸ¥: é€šè¿‡ (åˆ†æ•°: 0.88)
   è¡¥å……è¯¦æƒ… 1/15: OpenAIå‘å¸ƒGPT-5.1...  â† AIå†…å®¹ï¼Œä¸æ˜¯è´­ç‰©
```

### æµ‹è¯•3: åšä¸»åŠ¨æ€ä»»åŠ¡

**è§‚å¯Ÿç‚¹**:
1. åšä¸»æå–åæ˜¯å¦æ˜¾ç¤ºå‰3ä¸ªåšä¸»è¯¦æƒ…
2. åŠ¨æ€ç”Ÿæˆä»»åŠ¡æ—¶æ˜¯å¦æ˜¾ç¤ºæ¯ä¸ªåšä¸»å¤„ç†è¿‡ç¨‹
3. åšä¸»ä»»åŠ¡æ˜¯å¦çœŸæ­£è¢«æ·»åŠ åˆ°é˜Ÿåˆ—å¹¶æ‰§è¡Œ

**æœŸæœ›æ—¥å¿—**:
```
âœ… åšä¸»æå–: 4 ä¸ª (YT:4 BL:0)
   [1] MKBHD (youtube, high) - @@MKBHD
   [2] Fireship (youtube, high) - @@fireship
   [3] Two Minute Papers (youtube, medium) - @Two Minute Papers

... (æ‰§è¡Œå®Œåˆå§‹ä»»åŠ¡å) ...

ğŸ” åŠ¨æ€ç”Ÿæˆåšä¸»ä»»åŠ¡: å‘ç°4ä¸ªåšä¸»
   [1] MKBHD (youtube, high) - identifier: @MKBHD
   [2] Fireship (youtube, high) - identifier: @fireship
   [3] Two Minute Papers (youtube, medium) - identifier: Two Minute Papers
   ğŸŒ¿ é¡ºè—¤æ‘¸ç“œ: +3 åšä¸»ä»»åŠ¡

ğŸ”´ youtube_search | MKBHD AIç”Ÿæˆè§†é¢‘
ğŸ”´ youtube_search | Fireship AIç”Ÿæˆè§†é¢‘
```

---

## ğŸ¯ æ™ºèƒ½ä½“è‡ªä¸»å†³ç­–èƒ½åŠ›éªŒè¯

### å…³é”®è®¾è®¡åŸåˆ™

**âœ… ä¸å¡æ­»**:
- è´¨é‡é—¨å¤±è´¥ â†’ è‡ªåŠ¨è°ƒæ•´å‚æ•°é‡è¯•ï¼ˆæœ€å¤š3æ¬¡ï¼‰
- åšä¸»æå–å®Œæˆ â†’ è‡ªåŠ¨åŠ¨æ€æ·»åŠ ä»»åŠ¡
- æœç´¢è¯è§¦å‘æ­§ä¹‰ â†’ Promptå†…ç½®è§„é¿è§„åˆ™

**âœ… è‡ªä¸»å†³ç­–**:
- æ ¹æ®è´¨é‡åˆ†æ•°å†³å®šæ˜¯å¦é‡è¯•
- æ ¹æ®ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´åšä¸»ä»»åŠ¡ä¼˜å…ˆçº§
- æ ¹æ®å¹³å°ç‰¹æ€§é€‰æ‹©ä¸åŒæœç´¢ç­–ç•¥

**âœ… å¯è§‚æµ‹**:
- æ¯ä¸ªå†³ç­–éƒ½æœ‰æ˜ç¡®æ—¥å¿—
- è´¨é‡åé¦ˆå®Œæ•´å¯è§
- åšä¸»ä»»åŠ¡ç”Ÿæˆè¿‡ç¨‹é€æ˜

### éªŒè¯åœºæ™¯

**åœºæ™¯1: æœç´¢è´¨é‡å·® â†’ è‡ªä¸»è°ƒæ•´**
```
ç³»ç»Ÿæ£€æµ‹åˆ°YouTubeè¿”å›ä¸ç›¸å…³
â†’ è´¨é‡é—¨è¯„åˆ†0.30
â†’ è‡ªä¸»å†³å®šç®€åŒ–å…³é”®è¯
â†’ é‡è¯•æˆåŠŸï¼ˆè¯„åˆ†0.85ï¼‰
â†’ ç»§ç»­æ‰§è¡Œï¼Œæ— éœ€äººå·¥å¹²é¢„
```

**åœºæ™¯2: å‘ç°æ–°åšä¸» â†’ è‡ªä¸»æ‰©å±•**
```
Webæœç´¢å‘ç°3ä¸ªé«˜è´¨é‡åšä¸»
â†’ æå–å™¨è‡ªåŠ¨åˆ†æç½®ä¿¡åº¦
â†’ PlanneråŠ¨æ€ç”Ÿæˆ3ä¸ªæ–°ä»»åŠ¡
â†’ æŒ‰ç½®ä¿¡åº¦æ’åºæ‰§è¡Œ
â†’ æ‰©å±•å†…å®¹æºï¼Œæ— éœ€é¢„å®šä¹‰
```

**åœºæ™¯3: Bilibiliæœˆä»½é™·é˜± â†’ è‡ªä¸»è§„é¿**
```
11æœˆç”ŸæˆBilibiliæœç´¢è¯
â†’ Promptå†…ç½®è§„é¿"2025-11"è§„åˆ™
â†’ LLMè‡ªä¸»é€‰æ‹©"æœ€æ–°"
â†’ æˆåŠŸé¿å…è´­ç‰©æ±¡æŸ“
â†’ è¿”å›é«˜è´¨é‡AIå†…å®¹
```

---

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœä¿®å¤å¯¼è‡´é—®é¢˜ï¼Œå¿«é€Ÿå›æ»šï¼š

### å›æ»š1: è´¨é‡é—¨é‡è¯•

```python
# nodes/planner.py:94
state.feedback_enabled = False  # ä¸´æ—¶å…³é—­åé¦ˆ
```

### å›æ»š2: æ—¶é—´æ ¼å¼

```python
# nodes/keyword_designer.py:42-43
current_month = datetime.now().strftime("%Y-%m")  # æ¢å¤æ—§æ ¼å¼
current_month_zh = current_month  # ä½¿ç”¨ç›¸åŒæ ¼å¼
```

### å›æ»š3: æœç´¢ç­–ç•¥

ä¿ç•™ `nodes/keyword_designer_old.py`ï¼Œå¯éšæ—¶åˆ‡æ¢å›æ—§ç‰ˆprompt

---

## ğŸ“ ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä¿®æ”¹ç±»å‹ | è¡Œæ•°å˜åŒ– |
|------|----------|---------|
| `nodes/planner.py` | ğŸ”§ ä¿®å¤ + å¢å¼º | ~30 è¡Œ |
| `nodes/keyword_designer.py` | ğŸ”„ é‡æ„ | ~150 è¡Œ |
| `nodes/influencer_extractor.py` | ğŸ“Š å¢å¼ºæ—¥å¿— | +4 è¡Œ |

---

## ğŸ‰ æ€»ç»“

### æ ¸å¿ƒæˆå°±

1. **âœ… è´¨é‡é—¨ä»"æ‘†è®¾"å˜ä¸º"è‡ªé€‚åº”åé¦ˆå¾ªç¯"**
   - ä¿®å¤æ­»é”bug â†’ é‡è¯•çœŸæ­£ç”Ÿæ•ˆ
   - æ™ºèƒ½ä½“å¯è‡ªä¸»è°ƒæ•´å‚æ•° â†’ ä¸å¡æ­»æµç¨‹

2. **âœ… æœç´¢ç­–ç•¥ä»"æ‰‹åŠ¨è¯•é”™"å‡çº§ä¸º"ç ”ç©¶é©±åŠ¨"**
   - åŸºäº2025æœ€æ–°ç ”ç©¶
   - YouTube 3-5è¯ç”œèœœåŒº
   - Bilibiliç¤¾åŒºé»‘è¯å’Œæ—¶é—´é™·é˜±è§„é¿

3. **âœ… ç³»ç»Ÿé€æ˜åº¦ä»50%æå‡åˆ°100%**
   - è´¨é‡åé¦ˆå®Œæ•´å¯è§
   - åšä¸»ä»»åŠ¡ç”Ÿæˆè¿‡ç¨‹é€æ˜
   - æ™ºèƒ½ä½“æ¯ä¸ªå†³ç­–éƒ½æœ‰æ—¥å¿—

### ä¸‹ä¸€æ­¥ä¼˜åŒ–æ–¹å‘

**çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰**:
- ç›‘æ§è´¨é‡åé¦ˆå®é™…è§¦å‘ç‡å’Œæ•ˆæœ
- æ”¶é›†Bilibiliæœç´¢è¯å®é™…è¡¨ç°æ•°æ®
- è°ƒä¼˜ç½®ä¿¡åº¦é˜ˆå€¼

**ä¸­æœŸï¼ˆæœ¬æœˆï¼‰**:
- A/Bæµ‹è¯•ä¸åŒæœç´¢è¯æ¨¡æ¿
- å®ç°æœç´¢è¯è‡ªå­¦ä¹ ï¼ˆæ ¹æ®è´¨é‡åˆ†æ•°ä¼˜åŒ–ï¼‰
- æ·»åŠ Channel IDæœç´¢èƒ½åŠ›

**é•¿æœŸ**:
- å¤šæ¨¡å‹ensembleï¼ˆä¸åŒLLMç”Ÿæˆæœç´¢è¯æŠ•ç¥¨ï¼‰
- åŠ¨æ€è´¨é‡é—¨é˜ˆå€¼ï¼ˆæ ¹æ®å†å²æ•°æ®è°ƒæ•´ï¼‰
- è·¨è¯­è¨€æœç´¢è¯ç¿»è¯‘ä¼˜åŒ–

---

**ç³»ç»Ÿç°å·²å‡†å¤‡å¥½è¿›è¡Œç”Ÿäº§æµ‹è¯•ï¼** ğŸš€

**æ ¸å¿ƒä¼˜åŠ¿**: æ™ºèƒ½ä½“çœŸæ­£å…·å¤‡è‡ªä¸»å†³ç­–èƒ½åŠ›ï¼Œé‡åˆ°é—®é¢˜è‡ªåŠ¨è°ƒæ•´ï¼Œä¸ä¼šå¡æ­»æµç¨‹ã€‚
